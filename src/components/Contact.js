import React, { useEffect, useRef } from "react";

import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";

function Contact({ addTimeline} ) {
  gsap.registerPlugin(ScrollTrigger);

  let contact = useRef(null);
  let maskContact = useRef(null);

  useEffect(() => {
    const contactTl = gsap.timeline({
      scrollTrigger: {
        trigger: contact,
        pin: true,
        scrub: 0.5,
        toggleActions: "play pause reverse none",
      },
    });

    contactTl
      .addLabel("start contact")
      .to(
        maskContact,
        {
          strokeDashoffset: 0,
        },
        "start contact"
      )
      .addLabel("end contact");

    addTimeline(contactTl);
  }, [addTimeline]);


  return (
    <div id="contact" className="contact" ref={(el)=>(contact = el)}>
      <div className="contact__title">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 66.41 25.43">
          <defs>
            <g id="contact-mask">
              <mask id="contact-mask-contact">
                <path
                  ref={(el) => (maskContact = el)}
                  className="contact-mask"
                  d="M57.86,14.3l3.8-1.49,2.9-1-2.71,3.27-1.35,3.8-.74-4.06-.07-.39.49-.4-.63-.36-.32-7.3-1.14-.4-1.88,7.93,1.49,1.18-1.93,2.27-1.55,1.17-1.5.47-1.43-.64-.58-.69-.11-1,.14-.91.53-1.08L53,13.76,50.63,12,48.89,19.2l-1.38.86L46,18.39l-.82-1.27,0-2.5-1.32,2.7-1.38,1.11-.58-.25,0-.72.83-2L44,14.63l1.08-.87,1.73.13.7-1.1-7.27-.32L38,13.82l-5,1.23,6.73,1.57-1.63,3.27s-.36.45-.57.4c-.55-.13-1-1.31-1.09-1.86a69.7,69.7,0,0,1-.58-7l-.24-4L33,8.21l-1.77,12L31,17.74V15.22L30.79,13l-.3-.52-1.55,1.63-1.05,2.51-.47,3-1-6-5.78-.47L22.5,13l1.16.64.72,1.07v1.36l-.29,1.38-.54,1.13L22.23,19l-1-.3-1.13-.67-.91-.69-.17-1,.17-1.16L21,13.26l-4.1,2.48-3,2.19a7.47,7.47,0,0,1-3,1.16L8,19.44c-3.65.16-4.44-1.17-5.22-1.86L1.2,15.25c-.95-3.4-.78-5.83.53-7.83L4.09,4.8c.72-1.11,5-3.11,6.24-3.49h0l.59-.14L14.19.59"
                />
              </mask>
            </g>
          </defs>
          <g id="contact-text">
            <path
              mask="url(#contact-mask-contact)"
              className="contact-text"
              d="M39.44,12.73a6.68,6.68,0,0,1-3,1.08c0-.22-.12-.44-.14-.67-.08-1.34-.15-2.69-.24-4a11.1,11.1,0,0,0-.17-1.29c0-.13-.17-.23-.3-.39A6.36,6.36,0,0,0,35.19,10c.05,1,.12,2,.17,3,0,.39.14.79-.11,1.14s-.77.18-1.16.26a5.36,5.36,0,0,0-1,.34.4.4,0,0,0-.13.3c0,.1.13.25.22.26a3.15,3.15,0,0,0,.81,0,2.05,2.05,0,0,1,1.52,0c0,.23.09.46.12.69.1.83.18,1.66.29,2.48a4,4,0,0,0,.88,2.06.83.83,0,0,0,1.33,0,2.39,2.39,0,0,0,.29-.52c.41-.9.83-1.8,1.22-2.71.08-.19.27-.4,0-.68l-2.18,3.12a2.16,2.16,0,0,1-.59-1.21,11.23,11.23,0,0,1-.37-3.78L38.26,14a1.89,1.89,0,0,0,1.17-1.26c.29.07.63.31.81-.24Z"
            />
            <path
              mask="url(#contact-mask-contact)"
              className="contact-text"
              d="M7.66,20a4.6,4.6,0,0,0,.83,0c1-.18,2.11-.35,3.15-.6a8.38,8.38,0,0,0,3.3-1.6c.37-.29.77-.56,1.14-.86a2,2,0,0,0,.38-.44.23.23,0,0,0,0-.21.27.27,0,0,0-.19-.11,1.24,1.24,0,0,0-.45.11,14.37,14.37,0,0,0-1.29.85A8.89,8.89,0,0,1,11,18.7c-.66.14-1.32.26-2,.36a6.64,6.64,0,0,1-6-1.93,6.45,6.45,0,0,1-1.94-4.47A8.76,8.76,0,0,1,2.94,6.44,15.59,15.59,0,0,1,6.4,3.37,10.67,10.67,0,0,1,10,1.8c1-.22,1.95-.35,2.92-.53a3.93,3.93,0,0,0,.67-.19c.06,0,.13-.15.11-.19s-.11-.23-.19-.25a2.35,2.35,0,0,0-.59-.05,14.24,14.24,0,0,0-6,1.7,16,16,0,0,0-5,4.49A5.57,5.57,0,0,0,.63,9.46,21.1,21.1,0,0,0,.26,12.4a7,7,0,0,0,1.91,5.11A7.5,7.5,0,0,0,7.66,20Z"
            />
            <path
              mask="url(#contact-mask-contact)"
              className="contact-text"
              d="M30.22,13.35a1.82,1.82,0,0,1,.36,1.35c-.06,1.22-.09,2.45-.08,3.68a6.44,6.44,0,0,0,.25,1.51.55.55,0,0,0,.44.3.56.56,0,0,0,.44-.31,2.18,2.18,0,0,0,.07-1.15,9.78,9.78,0,0,1-.38-3.64c0-.56,0-1.11,0-1.66a2.71,2.71,0,0,0-.13-.7c-.2-.56-.7-.73-1.11-.33a7.28,7.28,0,0,0-1.22,1.44,8.72,8.72,0,0,0-.68,1.64,2.3,2.3,0,0,1-.65,1.16,6.26,6.26,0,0,1-.41-1.55c-.22-1-.21-1-.66-1.44a2.31,2.31,0,0,0-.22,1.83c.13.82.28,1.64.44,2.45a3.18,3.18,0,0,0,.26.79.43.43,0,0,0,.76.06,2.21,2.21,0,0,0,.28-.65c.15-.57.25-1.16.4-1.73A6.18,6.18,0,0,1,30.22,13.35Z"
            />
            <path
              mask="url(#contact-mask-contact)"
              className="contact-text"
              d="M24.29,13.68a3.06,3.06,0,0,0-2.56-1,3.5,3.5,0,0,0-3.05,3.74,2.29,2.29,0,0,0,1.19,2,9.32,9.32,0,0,1,.94.5,2.32,2.32,0,0,0,2.67.05,1,1,0,0,0,.68-1c0-.25.19-.5.28-.76a4.89,4.89,0,0,0,.39-2A2.07,2.07,0,0,0,24.29,13.68Zm-.5,3.43c-.07.19-.22.39-.21.58a.77.77,0,0,1-.52.75,1.74,1.74,0,0,1-2,0,8,8,0,0,0-.71-.38,1.73,1.73,0,0,1-.91-1.54,2.67,2.67,0,0,1,2.32-2.84,2.35,2.35,0,0,1,1.94.74,1.54,1.54,0,0,1,.4,1.22A3.66,3.66,0,0,1,23.79,17.11Z"
            />
            <path
              mask="url(#contact-mask-contact)"
              className="contact-text"
              d="M57.56,15.35a2.65,2.65,0,0,0-.52.3c-.46.43-.91.88-1.34,1.35a6.71,6.71,0,0,1-1.83,1.3,2.26,2.26,0,0,1-1.28.19,1.77,1.77,0,0,1-1.53-1.7c.06-.92.21-1.83,1.25-2.22a.53.53,0,0,0,.25-.24.36.36,0,0,0,0-.32c-.08-.12-.27-.28-.34-.25a3.05,3.05,0,0,0-1.13.6,3.44,3.44,0,0,0-.93,2.84,2.1,2.1,0,0,0,.31.88,2.6,2.6,0,0,0,2.77,1.2,5.5,5.5,0,0,0,1.43-.55,8.56,8.56,0,0,0,2.88-3C57.61,15.7,57.56,15.57,57.56,15.35Z"
            />
            <path
              mask="url(#contact-mask-contact)"
              className="contact-text"
              d="M48.54,19.3l-1,.18a7.47,7.47,0,0,1-1.66-2.21c-.49-.88-.23-1.84-.38-2.81h-.71a1,1,0,0,1,.78-.37c.37,0,.79.14,1.21-.2a2.86,2.86,0,0,0-.5-.36A2.44,2.44,0,0,0,44,14a6.16,6.16,0,0,0-2.34,3.21,2,2,0,0,0-.07.81.86.86,0,0,0,1.12.76,1.76,1.76,0,0,0,1-.66,2.32,2.32,0,0,1,.49-.5c.21-.15.33-.48.71-.38.16.29.3.62.49.91a7.79,7.79,0,0,0,1.63,2A.92.92,0,0,0,48.4,20a1.16,1.16,0,0,0,.22-.41S48.58,19.42,48.54,19.3Zm-4.66-2.4s0,.14-1.21.81c-1,.57.73-2.81,1.52-2.65C45.13,15.25,43.88,16.9,43.88,16.9Z"
            />
            <path
              mask="url(#contact-mask-contact)"
              className="contact-text"
              d="M64.56,11.78c0-.09-.19-.2-.27-.18a10.56,10.56,0,0,0-1.48.33c-.67.23-1.32.54-2,.78a3.07,3.07,0,0,1-.72.06c-.07-.36-.16-.67-.19-1-.12-1.14-.22-2.29-.33-3.43,0-.46-.11-.49-.71-.42h0a11.73,11.73,0,0,0,.05,3A7.49,7.49,0,0,1,59,13.22a8.78,8.78,0,0,0-1,.55.47.47,0,0,0-.13.41.49.49,0,0,0,.35.25,7.71,7.71,0,0,0,1,0c.05.21.11.4.15.59.24,1.16.47,2.32.74,3.48a.6.6,0,0,0,.42.34.77.77,0,0,0,.49-.26,1,1,0,0,0,.17-.43c.24-.91.47-1.83.72-2.74a1.49,1.49,0,0,1,.31-.51,16.72,16.72,0,0,1,2.16-2.52.74.74,0,0,0,.21-.28A.53.53,0,0,0,64.56,11.78Zm-2.94,3.34c-.36.57-.61,2.2-.77,2.2a5,5,0,0,1-.46-3.17c.36-.7,3.44-2,3.56-1.77S62.07,14.39,61.62,15.12Z"
            />
            <polygon
              mask="url(#contact-mask-contact)"
              className="contact-text"
              points="58.87 7.95 58.87 7.95 58.87 7.94 58.87 7.95"
            />
            <path
              mask="url(#contact-mask-contact)"
              className="contact-text"
              d="M59.6,6.9a.58.58,0,0,0-.08-.22c-.1-.18-.38-.22-.47,0a1.32,1.32,0,0,0-.22.52,7,7,0,0,0,0,.79c.26-.22.53-.43.77-.64C59.62,7.13,59.62,7,59.6,6.9Z"
            />
          </g>
        </svg>
      </div>

      <div className="contact__line"></div>
      <p className="contact__p">
        Linus Kallin
        <br />
        <a href="mailto:kontakt@linuskallin.se">kontakt@linuskallin.se</a>
        <br />
        <a href="tel:+46738208415">0738-208415</a>
        <br />
        www.linuskallin.se
        <br />
        <span>---------------------</span>
        <br />
        <a href="https://www.facebook.com/linuskallin">Facebook</a>
        <br />
        <a href="https://www.linkedin.com/in/linus-kallin-39466639/">LinkedIn</a>
        <br />
        <span>---------------------</span>
        <br />
        Website made with:
        <br />
        <a href="https://reactjs.org" target="_blank" rel="noreferrer">
          React
        </a>
        <br />
        <a href="https://greensock.com/gsap/" target="_blank" rel="noreferrer">
          GSAP
        </a>
        <br />
        <a href="https://www.adobe.com/se/products/illustrator.html" target="_blank" rel="noreferrer">
          Illustrator
        </a>
        <br />
        <span>---------------------</span>
        <br />
        Size: 10 Mb
        <br />
        Files: 43
      </p>
    </div>
  );
}

export default Contact;
